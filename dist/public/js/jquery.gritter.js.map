{"version":3,"sources":["../../../src/public/js/jquery.gritter.js"],"names":["$","gritter","options","position","class_name","fade_in_speed","fade_out_speed","time","add","params","Gritter","e","err","console","error","alert","remove","id","removeSpecific","removeAll","stop","_custom_timer","_item_count","_is_setup","_tpl_close","_tpl_title","_tpl_item","_tpl_wrap","text","_runSetup","title","image","sticky","item_class","time_alive","_verifyWrapper","number","tmp","each","i","val","isFunction","image_str","_str_replace","addClass","append","item","fadeIn","_setFadeTimer","bind","event","type","_restoreItemIfFading","_hoverState","find","click","_countRemoveWrapper","unique_id","manual_close","length","_fade","unbind_events","fade","speed","unbind","animate","opacity","height","show","removeClass","hide","clearTimeout","css","opt","timer_str","setTimeout","before_close","after_close","wrap","fadeOut","search","replace","subject","count","j","temp","repl","sl","fl","f","concat","r","s","ra","Array","sa","window","undefined","split","join","jQuery"],"mappings":"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","file":"jquery.gritter.js","sourcesContent":["/*\r\n * Gritter for jQuery\r\n * http://www.boedesign.com/\r\n *\r\n * Copyright (c) 2012 Jordan Boesch\r\n * Dual licensed under the MIT and GPL licenses.\r\n *\r\n * Date: February 24, 2012\r\n * Version: 1.7.4\r\n */\r\n\r\n(function($){\r\n \t\r\n\t/**\r\n\t* Set it up as an object under the jQuery namespace\r\n\t*/\r\n\t$.gritter = {};\r\n\t\r\n\t/**\r\n\t* Set up global options that the user can over-ride\r\n\t*/\r\n\t$.gritter.options = {\r\n\t\tposition: '',\r\n\t\tclass_name: '', // could be set to 'gritter-light' to use white notifications\r\n\t\tfade_in_speed: 'medium', // how fast notifications fade in\r\n\t\tfade_out_speed: 1000, // how fast the notices fade out\r\n\t\ttime: 6000 // hang on the screen for...\r\n\t}\r\n\t\r\n\t/**\r\n\t* Add a gritter notification to the screen\r\n\t* @see Gritter#add();\r\n\t*/\r\n\t$.gritter.add = function(params){\r\n\r\n\t\ttry {\r\n\t\t\treturn Gritter.add(params || {});\r\n\t\t} catch(e) {\r\n\t\t\r\n\t\t\tvar err = 'Gritter Error: ' + e;\r\n\t\t\t(typeof(console) != 'undefined' && console.error) ? \r\n\t\t\t\tconsole.error(err, params) : \r\n\t\t\t\talert(err);\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t* Remove a gritter notification from the screen\r\n\t* @see Gritter#removeSpecific();\r\n\t*/\r\n\t$.gritter.remove = function(id, params){\r\n\t\tGritter.removeSpecific(id, params || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t* Remove all notifications\r\n\t* @see Gritter#stop();\r\n\t*/\r\n\t$.gritter.removeAll = function(params){\r\n\t\tGritter.stop(params || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t* Big fat Gritter object\r\n\t* @constructor (not really since its object literal)\r\n\t*/\r\n\tvar Gritter = {\r\n\t\t\r\n\t\t// Public - options to over-ride with $.gritter.options in \"add\"\r\n\t\tposition: '',\r\n\t\tfade_in_speed: '',\r\n\t\tfade_out_speed: '',\r\n\t\ttime: '',\r\n\t\t\r\n\t\t// Private - no touchy the private parts\r\n\t\t_custom_timer: 0,\r\n\t\t_item_count: 0,\r\n\t\t_is_setup: 0,\r\n\t\t_tpl_close: '<div class=\"gritter-close\"></div>',\r\n\t\t_tpl_title: '<span class=\"gritter-title\">[[title]]</span>',\r\n\t\t_tpl_item: '<div id=\"gritter-item-[[number]]\" class=\"gritter-item-wrapper [[item_class]]\" style=\"display:none\"><div class=\"gritter-top\"></div><div class=\"gritter-item\">[[close]][[image]]<div class=\"[[class_name]]\">[[title]]<p>[[text]]</p></div><div style=\"clear:both\"></div></div><div class=\"gritter-bottom\"></div></div>',\r\n\t\t_tpl_wrap: '<div id=\"gritter-notice-wrapper\"></div>',\r\n\t\t\r\n\t\t/**\r\n\t\t* Add a gritter notification to the screen\r\n\t\t* @param {Object} params The object that contains all the options for drawing the notification\r\n\t\t* @return {Integer} The specific numeric id to that gritter notification\r\n\t\t*/\r\n\t\tadd: function(params){\r\n\t\t\t// Handle straight text\r\n\t\t\tif(typeof(params) == 'string'){\r\n\t\t\t\tparams = {text:params};\r\n\t\t\t}\r\n\r\n\t\t\t// We might have some issues if we don't have a title or text!\r\n\t\t\tif(!params.text){\r\n\t\t\t\tthrow 'You must supply \"text\" parameter.'; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Check the options and set them once\r\n\t\t\tif(!this._is_setup){\r\n\t\t\t\tthis._runSetup();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Basics\r\n\t\t\tvar title = params.title, \r\n\t\t\t\ttext = params.text,\r\n\t\t\t\timage = params.image || '',\r\n\t\t\t\tsticky = params.sticky || false,\r\n\t\t\t\titem_class = params.class_name || $.gritter.options.class_name,\r\n\t\t\t\tposition = $.gritter.options.position,\r\n\t\t\t\ttime_alive = params.time || '';\r\n\r\n\t\t\tthis._verifyWrapper();\r\n\t\t\t\r\n\t\t\tthis._item_count++;\r\n\t\t\tvar number = this._item_count, \r\n\t\t\t\ttmp = this._tpl_item;\r\n\t\t\t\r\n\t\t\t// Assign callbacks\r\n\t\t\t$(['before_open', 'after_open', 'before_close', 'after_close']).each(function(i, val){\r\n\t\t\t\tGritter['_' + val + '_' + number] = ($.isFunction(params[val])) ? params[val] : function(){}\r\n\t\t\t});\r\n\r\n\t\t\t// Reset\r\n\t\t\tthis._custom_timer = 0;\r\n\t\t\t\r\n\t\t\t// A custom fade time set\r\n\t\t\tif(time_alive){\r\n\t\t\t\tthis._custom_timer = time_alive;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar image_str = (image != '') ? '<img src=\"' + image + '\" class=\"gritter-image\" />' : '',\r\n\t\t\t\tclass_name = (image != '') ? 'gritter-with-image' : 'gritter-without-image';\r\n\t\t\t\r\n\t\t\t// String replacements on the template\r\n\t\t\tif(title){\r\n\t\t\t\ttitle = this._str_replace('[[title]]',title,this._tpl_title);\r\n\t\t\t}else{\r\n\t\t\t\ttitle = '';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttmp = this._str_replace(\r\n\t\t\t\t['[[title]]', '[[text]]', '[[close]]', '[[image]]', '[[number]]', '[[class_name]]', '[[item_class]]'],\r\n\t\t\t\t[title, text, this._tpl_close, image_str, this._item_count, class_name, item_class], tmp\r\n\t\t\t);\r\n\r\n\t\t\t// If it's false, don't show another gritter message\r\n\t\t\tif(this['_before_open_' + number]() === false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t$('#gritter-notice-wrapper').addClass(position).append(tmp);\r\n\t\t\t\r\n\t\t\tvar item = $('#gritter-item-' + this._item_count);\r\n\t\t\t\r\n\t\t\titem.fadeIn(this.fade_in_speed, function(){\r\n\t\t\t\tGritter['_after_open_' + number]($(this));\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif(!sticky){\r\n\t\t\t\tthis._setFadeTimer(item, number);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Bind the hover/unhover states\r\n\t\t\t$(item).bind('mouseenter mouseleave', function(event){\r\n\t\t\t\tif(event.type == 'mouseenter'){\r\n\t\t\t\t\tif(!sticky){ \r\n\t\t\t\t\t\tGritter._restoreItemIfFading($(this), number);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!sticky){\r\n\t\t\t\t\t\tGritter._setFadeTimer($(this), number);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tGritter._hoverState($(this), event.type);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// Clicking (X) makes the perdy thing close\r\n\t\t\t$(item).find('.gritter-close').click(function(){\r\n\t\t\t\tGritter.removeSpecific(number, {}, null, true);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn number;\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* If we don't have any more gritter notifications, get rid of the wrapper using this check\r\n\t\t* @private\r\n\t\t* @param {Integer} unique_id The ID of the element that was just deleted, use it for a callback\r\n\t\t* @param {Object} e The jQuery element that we're going to perform the remove() action on\r\n\t\t* @param {Boolean} manual_close Did we close the gritter dialog with the (X) button\r\n\t\t*/\r\n\t\t_countRemoveWrapper: function(unique_id, e, manual_close){\r\n\t\t\t\r\n\t\t\t// Remove it then run the callback function\r\n\t\t\te.remove();\r\n\t\t\tthis['_after_close_' + unique_id](e, manual_close);\r\n\t\t\t\r\n\t\t\t// Check if the wrapper is empty, if it is.. remove the wrapper\r\n\t\t\tif($('.gritter-item-wrapper').length == 0){\r\n\t\t\t\t$('#gritter-notice-wrapper').remove();\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Fade out an element after it's been on the screen for x amount of time\r\n\t\t* @private\r\n\t\t* @param {Object} e The jQuery element to get rid of\r\n\t\t* @param {Integer} unique_id The id of the element to remove\r\n\t\t* @param {Object} params An optional list of params to set fade speeds etc.\r\n\t\t* @param {Boolean} unbind_events Unbind the mouseenter/mouseleave events if they click (X)\r\n\t\t*/\r\n\t\t_fade: function(e, unique_id, params, unbind_events){\r\n\r\n\t\t\tvar params = params || {},\r\n\t\t\t\tfade = (typeof(params.fade) != 'undefined') ? params.fade : true,\r\n\t\t\t\tfade_out_speed = params.speed || this.fade_out_speed,\r\n\t\t\t\tmanual_close = unbind_events;\r\n\r\n\t\t\tthis['_before_close_' + unique_id](e, manual_close);\r\n\t\t\t\r\n\t\t\t// If this is true, then we are coming from clicking the (X)\r\n\t\t\tif(unbind_events){\r\n\t\t\t\te.unbind('mouseenter mouseleave');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Fade it out or remove it\r\n\t\t\tif(fade){\r\n\t\t\t\r\n\t\t\t\te.animate({\r\n\t\t\t\t\topacity: 0\r\n\t\t\t\t}, fade_out_speed, function(){\r\n\t\t\t\t\te.animate({ height: 0 }, 300, function(){\r\n\t\t\t\t\t\tGritter._countRemoveWrapper(unique_id, e, manual_close);\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tthis._countRemoveWrapper(unique_id, e);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Perform actions based on the type of bind (mouseenter, mouseleave) \r\n\t\t* @private\r\n\t\t* @param {Object} e The jQuery element\r\n\t\t* @param {String} type The type of action we're performing: mouseenter or mouseleave\r\n\t\t*/\r\n\t\t_hoverState: function(e, type){\r\n\t\t\t\r\n\t\t\t// Change the border styles and add the (X) close button when you hover\r\n\t\t\tif(type == 'mouseenter'){\r\n\t\t\t\t\r\n\t\t\t\te.addClass('hover');\r\n\t\t\t\t\r\n\t\t\t\t// Show close button\r\n\t\t\t\te.find('.gritter-close').show();\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t// Remove the border styles and hide (X) close button when you mouse out\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\te.removeClass('hover');\r\n\t\t\t\t\r\n\t\t\t\t// Hide close button\r\n\t\t\t\te.find('.gritter-close').hide();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Remove a specific notification based on an ID\r\n\t\t* @param {Integer} unique_id The ID used to delete a specific notification\r\n\t\t* @param {Object} params A set of options passed in to determine how to get rid of it\r\n\t\t* @param {Object} e The jQuery element that we're \"fading\" then removing\r\n\t\t* @param {Boolean} unbind_events If we clicked on the (X) we set this to true to unbind mouseenter/mouseleave\r\n\t\t*/\r\n\t\tremoveSpecific: function(unique_id, params, e, unbind_events){\r\n\t\t\t\r\n\t\t\tif(!e){\r\n\t\t\t\tvar e = $('#gritter-item-' + unique_id);\r\n\t\t\t}\r\n\r\n\t\t\t// We set the fourth param to let the _fade function know to \r\n\t\t\t// unbind the \"mouseleave\" event.  Once you click (X) there's no going back!\r\n\t\t\tthis._fade(e, unique_id, params || {}, unbind_events);\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* If the item is fading out and we hover over it, restore it!\r\n\t\t* @private\r\n\t\t* @param {Object} e The HTML element to remove\r\n\t\t* @param {Integer} unique_id The ID of the element\r\n\t\t*/\r\n\t\t_restoreItemIfFading: function(e, unique_id){\r\n\t\t\t\r\n\t\t\tclearTimeout(this['_int_id_' + unique_id]);\r\n\t\t\te.stop().css({ opacity: '', height: '' });\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Setup the global options - only once\r\n\t\t* @private\r\n\t\t*/\r\n\t\t_runSetup: function(){\r\n\t\t\r\n\t\t\tfor(opt in $.gritter.options){\r\n\t\t\t\tthis[opt] = $.gritter.options[opt];\r\n\t\t\t}\r\n\t\t\tthis._is_setup = 1;\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Set the notification to fade out after a certain amount of time\r\n\t\t* @private\r\n\t\t* @param {Object} item The HTML element we're dealing with\r\n\t\t* @param {Integer} unique_id The ID of the element\r\n\t\t*/\r\n\t\t_setFadeTimer: function(e, unique_id){\r\n\t\t\t\r\n\t\t\tvar timer_str = (this._custom_timer) ? this._custom_timer : this.time;\r\n\t\t\tthis['_int_id_' + unique_id] = setTimeout(function(){ \r\n\t\t\t\tGritter._fade(e, unique_id);\r\n\t\t\t}, timer_str);\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* Bring everything to a halt\r\n\t\t* @param {Object} params A list of callback functions to pass when all notifications are removed\r\n\t\t*/  \r\n\t\tstop: function(params){\r\n\t\t\t\r\n\t\t\t// callbacks (if passed)\r\n\t\t\tvar before_close = ($.isFunction(params.before_close)) ? params.before_close : function(){};\r\n\t\t\tvar after_close = ($.isFunction(params.after_close)) ? params.after_close : function(){};\r\n\t\t\t\r\n\t\t\tvar wrap = $('#gritter-notice-wrapper');\r\n\t\t\tbefore_close(wrap);\r\n\t\t\twrap.fadeOut(function(){\r\n\t\t\t\t$(this).remove();\r\n\t\t\t\tafter_close();\r\n\t\t\t});\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* An extremely handy PHP function ported to JS, works well for templating\r\n\t\t* @private\r\n\t\t* @param {String/Array} search A list of things to search for\r\n\t\t* @param {String/Array} replace A list of things to replace the searches with\r\n\t\t* @return {String} sa The output\r\n\t\t*/  \r\n\t\t_str_replace: function(search, replace, subject, count){\r\n\t\t\r\n\t\t\tvar i = 0, j = 0, temp = '', repl = '', sl = 0, fl = 0,\r\n\t\t\t\tf = [].concat(search),\r\n\t\t\t\tr = [].concat(replace),\r\n\t\t\t\ts = subject,\r\n\t\t\t\tra = r instanceof Array, sa = s instanceof Array;\r\n\t\t\ts = [].concat(s);\r\n\t\t\t\r\n\t\t\tif(count){\r\n\t\t\t\tthis.window[count] = 0;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor(i = 0, sl = s.length; i < sl; i++){\r\n\t\t\t\t\r\n\t\t\t\tif(s[i] === ''){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (j = 0, fl = f.length; j < fl; j++){\r\n\t\t\t\t\t\r\n\t\t\t\t\ttemp = s[i] + '';\r\n\t\t\t\t\trepl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];\r\n\t\t\t\t\ts[i] = (temp).split(f[j]).join(repl);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(count && s[i] !== temp){\r\n\t\t\t\t\t\tthis.window[count] += (temp.length-s[i].length) / f[j].length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn sa ? s : s[0];\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t* A check to make sure we have something to wrap our notices with\r\n\t\t* @private\r\n\t\t*/  \r\n\t\t_verifyWrapper: function(){\r\n\t\t  \r\n\t\t\tif($('#gritter-notice-wrapper').length == 0){\r\n\t\t\t\t$('body').append(this._tpl_wrap);\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n})(jQuery);\r\n"]}