{"version":3,"sources":["../../../src/public/js/morris.js"],"names":["$","Morris","minutesSpecHelper","secondsSpecHelper","__slice","slice","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","constructor","prototype","__super__","__bind","fn","me","apply","arguments","__indexOf","indexOf","item","i","l","length","window","jQuery","EventEmitter","on","name","handler","handlers","push","fire","args","_i","_len","_ref","_results","commas","num","absnum","intnum","ret","strabsnum","Math","abs","floor","toFixed","replace","toString","pad2","number","Grid","_super","options","_this","element","el","document","getElementById","Error","css","extend","gridDefaults","defaults","units","postUnits","raphael","Raphael","elementWidth","elementHeight","dirty","init","setData","data","bind","evt","offset","pageX","left","pageY","top","touch","originalEvent","touches","changedTouches","postInit","dateFormat","axes","grid","gridLineColor","gridStrokeWidth","gridTextColor","gridTextSize","gridTextFamily","gridTextWeight","hideHover","yLabelFormat","xLabelAngle","numLines","padding","parseTime","preUnits","ymax","ymin","goals","goalStrokeWidth","goalLineColors","events","eventStrokeWidth","eventLineColors","redraw","e","idx","index","maxGoal","minGoal","row","step","total","y","ykey","yval","clear","hover","hide","cumulative","min","max","label","xkey","x","parseDate","Date","xLabelFormat","_j","_len1","_results1","ykeys","parseFloat","sort","a","b","xmin","xmax","yboundary","autoGridLines","_ref1","boundaryType","currentValue","boundaryOption","suggestedValue","parseInt","nlines","gmax","gmin","smag","span","unit","ymag","log","pow","ceil","_calc","bottomOffsets","gridLine","h","w","yLabelWidths","width","height","right","bottom","measureText","yAxisFormat","text","dx","dy","calc","transY","transX","drawGrid","drawGoals","drawEvents","draw","angle","tt","attr","rotate","getBBox","remove","updateHover","hit","hitTest","update","lineY","drawYAxisLabel","drawGridLine","color","goal","drawGoal","event","drawEvent","path","xPos","yPos","date","isecs","m","msecs","n","o","offsetmins","p","q","r","secs","match","getTime","getDay","setMonth","UTC","round","Hover","append","html","show","moveTo","content","hoverHeight","hoverWidth","parentHeight","parentWidth","innerWidth","innerHeight","outerWidth","outerHeight","Line","hilight","onHoverOut","onHoverMove","onGridClick","pointGrow","animation","pointSize","pointShrink","lineWidth","lineColors","pointWidths","pointStrokeColors","pointFillColors","smooth","xLabels","xLabelMargin","continuousLine","calcPoints","generatePaths","_x","_y","_ymax","concat","displayHoverForRow","hoverContentForRow","j","colorFor","labels","hoverCallback","c","coords","paths","_ref2","createPath","drawXAxis","drawSeries","drawLabel","prevAngleMargin","prevLabelMargin","ypos","labelText","xpos","labelBox","margin","textBox","drawXAxisLabel","transform","cos","PI","sin","labelSeries","reverse","seriesPoints","_drawLineFor","_drawPointFor","circle","drawLinePoint","drawLinePath","coord","g","grads","ix","lg","prevCoord","x1","x2","y1","y2","gradients","grad","nextCoord","prevHilight","animate","sidx","type","lineColor","size","pointColor","lineIndex","strokeWidthForSeries","strokeForSeries","dmin","dmax","pxwidth","specName","d","d0","ddensity","s","spec","t","LABEL_SPECS","AUTO_LABEL_ORDER","fmt","start","incr","interval","getFullYear","getMonth","getDate","getHours","getMinutes","setUTCMinutes","getUTCMinutes","getSeconds","setUTCSeconds","getUTCSeconds","setFullYear","setDate","Area","areaDefaults","fillOpacity","behaveLikeLine","areaOptions","range","_k","_results2","_drawFillFor","drawFilledPath","fillForSeries","rgb2hsl","hsl","fill","Bar","stacked","barSizeRatio","barGap","barColors","calcBars","barWidth","groupWidth","lastTop","leftPadding","numBars","zeroPos","bars","drawBar","barColor","rect","Donut","colors","backgroundColor","labelColor","formatter","select","click","values","value","C","cx","cy","last","max_value","next","seg","_len2","empty","segments","DonutSegment","render","text1","drawEmptyDonutLabel","text2","segment","deselect","setLabels","label1","label2","inner","maxHeightBottom","maxHeightTop","maxWidth","text1bbox","text1scale","text2bbox","text2scale","fontSize","fontWeight","outer","p0","p1","sin_p0","cos_p0","sin_p1","cos_p1","is_long","calcSegment","selectedPath","calcArc","calcArcPoints","r1","r2","ix0","ix1","iy0","iy1","ox0","ox1","oy0","oy1","arc","drawDonutArc","drawDonutSegment","stroke","opacity","fillColor","strokeColor","hoverFunction","clickFunction","selected"],"mappings":"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","file":"morris.js","sourcesContent":["(function() {\r\n  var $, Morris, minutesSpecHelper, secondsSpecHelper,\r\n    __slice = [].slice,\r\n    __hasProp = {}.hasOwnProperty,\r\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\r\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\r\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n  Morris = window.Morris = {};\r\n\r\n  $ = jQuery;\r\n\r\n  Morris.EventEmitter = (function() {\r\n\r\n    function EventEmitter() {}\r\n\r\n    EventEmitter.prototype.on = function(name, handler) {\r\n      if (this.handlers == null) {\r\n        this.handlers = {};\r\n      }\r\n      if (this.handlers[name] == null) {\r\n        this.handlers[name] = [];\r\n      }\r\n      this.handlers[name].push(handler);\r\n      return this;\r\n    };\r\n\r\n    EventEmitter.prototype.fire = function() {\r\n      var args, handler, name, _i, _len, _ref, _results;\r\n      name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n      if ((this.handlers != null) && (this.handlers[name] != null)) {\r\n        _ref = this.handlers[name];\r\n        _results = [];\r\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n          handler = _ref[_i];\r\n          _results.push(handler.apply(null, args));\r\n        }\r\n        return _results;\r\n      }\r\n    };\r\n\r\n    return EventEmitter;\r\n\r\n  })();\r\n\r\n  Morris.commas = function(num) {\r\n    var absnum, intnum, ret, strabsnum;\r\n    if (num != null) {\r\n      ret = num < 0 ? \"-\" : \"\";\r\n      absnum = Math.abs(num);\r\n      intnum = Math.floor(absnum).toFixed(0);\r\n      ret += intnum.replace(/(?=(?:\\d{3})+$)(?!^)/g, ',');\r\n      strabsnum = absnum.toString();\r\n      if (strabsnum.length > intnum.length) {\r\n        ret += strabsnum.slice(intnum.length);\r\n      }\r\n      return ret;\r\n    } else {\r\n      return '-';\r\n    }\r\n  };\r\n\r\n  Morris.pad2 = function(number) {\r\n    return (number < 10 ? '0' : '') + number;\r\n  };\r\n\r\n  Morris.Grid = (function(_super) {\r\n\r\n    __extends(Grid, _super);\r\n\r\n    function Grid(options) {\r\n      var _this = this;\r\n      if (typeof options.element === 'string') {\r\n        this.el = $(document.getElementById(options.element));\r\n      } else {\r\n        this.el = $(options.element);\r\n      }\r\n      if (!(this.el != null) || this.el.length === 0) {\r\n        throw new Error(\"Graph container element not found\");\r\n      }\r\n      if (this.el.css('position') === 'static') {\r\n        this.el.css('position', 'relative');\r\n      }\r\n      this.options = $.extend({}, this.gridDefaults, this.defaults || {}, options);\r\n      if (typeof this.options.units === 'string') {\r\n        this.options.postUnits = options.units;\r\n      }\r\n      this.raphael = new Raphael(this.el[0]);\r\n      this.elementWidth = null;\r\n      this.elementHeight = null;\r\n      this.dirty = false;\r\n      if (this.init) {\r\n        this.init();\r\n      }\r\n      this.setData(this.options.data);\r\n      this.el.bind('mousemove', function(evt) {\r\n        var offset;\r\n        offset = _this.el.offset();\r\n        return _this.fire('hovermove', evt.pageX - offset.left, evt.pageY - offset.top);\r\n      });\r\n      this.el.bind('mouseout', function(evt) {\r\n        return _this.fire('hoverout');\r\n      });\r\n      this.el.bind('touchstart touchmove touchend', function(evt) {\r\n        var offset, touch;\r\n        touch = evt.originalEvent.touches[0] || evt.originalEvent.changedTouches[0];\r\n        offset = _this.el.offset();\r\n        _this.fire('hover', touch.pageX - offset.left, touch.pageY - offset.top);\r\n        return touch;\r\n      });\r\n      this.el.bind('click', function(evt) {\r\n        var offset;\r\n        offset = _this.el.offset();\r\n        return _this.fire('gridclick', evt.pageX - offset.left, evt.pageY - offset.top);\r\n      });\r\n      if (this.postInit) {\r\n        this.postInit();\r\n      }\r\n    }\r\n\r\n    Grid.prototype.gridDefaults = {\r\n      dateFormat: null,\r\n      axes: true,\r\n      grid: true,\r\n      gridLineColor: '#aaa',\r\n      gridStrokeWidth: 0.5,\r\n      gridTextColor: '#888',\r\n      gridTextSize: 12,\r\n      gridTextFamily: 'sans-serif',\r\n      gridTextWeight: 'normal',\r\n      hideHover: false,\r\n      yLabelFormat: null,\r\n      xLabelAngle: 0,\r\n      numLines: 5,\r\n      padding: 25,\r\n      parseTime: true,\r\n      postUnits: '',\r\n      preUnits: '',\r\n      ymax: 'auto',\r\n      ymin: 'auto 0',\r\n      goals: [],\r\n      goalStrokeWidth: 1.0,\r\n      goalLineColors: ['#666633', '#999966', '#cc6666', '#663333'],\r\n      events: [],\r\n      eventStrokeWidth: 1.0,\r\n      eventLineColors: ['#005a04', '#ccffbb', '#3a5f0b', '#005502']\r\n    };\r\n\r\n    Grid.prototype.setData = function(data, redraw) {\r\n      var e, idx, index, maxGoal, minGoal, ret, row, step, total, y, ykey, ymax, ymin, yval;\r\n      if (redraw == null) {\r\n        redraw = true;\r\n      }\r\n      this.options.data = data;\r\n      if (!(data != null) || data.length === 0) {\r\n        this.data = [];\r\n        this.raphael.clear();\r\n        if (this.hover != null) {\r\n          this.hover.hide();\r\n        }\r\n        return;\r\n      }\r\n      ymax = this.cumulative ? 0 : null;\r\n      ymin = this.cumulative ? 0 : null;\r\n      if (this.options.goals.length > 0) {\r\n        minGoal = Math.min.apply(null, this.options.goals);\r\n        maxGoal = Math.max.apply(null, this.options.goals);\r\n        ymin = ymin != null ? Math.min(ymin, minGoal) : minGoal;\r\n        ymax = ymax != null ? Math.max(ymax, maxGoal) : maxGoal;\r\n      }\r\n      this.data = (function() {\r\n        var _i, _len, _results;\r\n        _results = [];\r\n        for (index = _i = 0, _len = data.length; _i < _len; index = ++_i) {\r\n          row = data[index];\r\n          ret = {};\r\n          ret.label = row[this.options.xkey];\r\n          if (this.options.parseTime) {\r\n            ret.x = Morris.parseDate(ret.label);\r\n            if (this.options.dateFormat) {\r\n              ret.label = this.options.dateFormat(ret.x);\r\n            } else if (typeof ret.label === 'number') {\r\n              ret.label = new Date(ret.label).toString();\r\n            }\r\n          } else {\r\n            ret.x = index;\r\n            if (this.options.xLabelFormat) {\r\n              ret.label = this.options.xLabelFormat(ret);\r\n            }\r\n          }\r\n          total = 0;\r\n          ret.y = (function() {\r\n            var _j, _len1, _ref, _results1;\r\n            _ref = this.options.ykeys;\r\n            _results1 = [];\r\n            for (idx = _j = 0, _len1 = _ref.length; _j < _len1; idx = ++_j) {\r\n              ykey = _ref[idx];\r\n              yval = row[ykey];\r\n              if (typeof yval === 'string') {\r\n                yval = parseFloat(yval);\r\n              }\r\n              if ((yval != null) && typeof yval !== 'number') {\r\n                yval = null;\r\n              }\r\n              if (yval != null) {\r\n                if (this.cumulative) {\r\n                  total += yval;\r\n                } else {\r\n                  if (ymax != null) {\r\n                    ymax = Math.max(yval, ymax);\r\n                    ymin = Math.min(yval, ymin);\r\n                  } else {\r\n                    ymax = ymin = yval;\r\n                  }\r\n                }\r\n              }\r\n              if (this.cumulative && (total != null)) {\r\n                ymax = Math.max(total, ymax);\r\n                ymin = Math.min(total, ymin);\r\n              }\r\n              _results1.push(yval);\r\n            }\r\n            return _results1;\r\n          }).call(this);\r\n          _results.push(ret);\r\n        }\r\n        return _results;\r\n      }).call(this);\r\n      if (this.options.parseTime) {\r\n        this.data = this.data.sort(function(a, b) {\r\n          return (a.x > b.x) - (b.x > a.x);\r\n        });\r\n      }\r\n      this.xmin = this.data[0].x;\r\n      this.xmax = this.data[this.data.length - 1].x;\r\n      this.events = [];\r\n      if (this.options.parseTime && this.options.events.length > 0) {\r\n        this.events = (function() {\r\n          var _i, _len, _ref, _results;\r\n          _ref = this.options.events;\r\n          _results = [];\r\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n            e = _ref[_i];\r\n            _results.push(Morris.parseDate(e));\r\n          }\r\n          return _results;\r\n        }).call(this);\r\n        this.xmax = Math.max(this.xmax, Math.max.apply(null, this.events));\r\n        this.xmin = Math.min(this.xmin, Math.min.apply(null, this.events));\r\n      }\r\n      if (this.xmin === this.xmax) {\r\n        this.xmin -= 1;\r\n        this.xmax += 1;\r\n      }\r\n      this.ymin = this.yboundary('min', ymin);\r\n      this.ymax = this.yboundary('max', ymax);\r\n      if (this.ymin === this.ymax) {\r\n        if (ymin) {\r\n          this.ymin -= 1;\r\n        }\r\n        this.ymax += 1;\r\n      }\r\n      if (this.options.axes === true || this.options.grid === true) {\r\n        if (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin) {\r\n          this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines);\r\n          this.ymin = Math.min(this.ymin, this.grid[0]);\r\n          this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1]);\r\n        } else {\r\n          step = (this.ymax - this.ymin) / (this.options.numLines - 1);\r\n          this.grid = (function() {\r\n            var _i, _ref, _ref1, _results;\r\n            _results = [];\r\n            for (y = _i = _ref = this.ymin, _ref1 = this.ymax; _ref <= _ref1 ? _i <= _ref1 : _i >= _ref1; y = _i += step) {\r\n              _results.push(y);\r\n            }\r\n            return _results;\r\n          }).call(this);\r\n        }\r\n      }\r\n      this.dirty = true;\r\n      if (redraw) {\r\n        return this.redraw();\r\n      }\r\n    };\r\n\r\n    Grid.prototype.yboundary = function(boundaryType, currentValue) {\r\n      var boundaryOption, suggestedValue;\r\n      boundaryOption = this.options[\"y\" + boundaryType];\r\n      if (typeof boundaryOption === 'string') {\r\n        if (boundaryOption.slice(0, 4) === 'auto') {\r\n          if (boundaryOption.length > 5) {\r\n            suggestedValue = parseInt(boundaryOption.slice(5), 10);\r\n            if (currentValue == null) {\r\n              return suggestedValue;\r\n            }\r\n            return Math[boundaryType](currentValue, suggestedValue);\r\n          } else {\r\n            if (currentValue != null) {\r\n              return currentValue;\r\n            } else {\r\n              return 0;\r\n            }\r\n          }\r\n        } else {\r\n          return parseInt(boundaryOption, 10);\r\n        }\r\n      } else {\r\n        return boundaryOption;\r\n      }\r\n    };\r\n\r\n    Grid.prototype.autoGridLines = function(ymin, ymax, nlines) {\r\n      var gmax, gmin, grid, smag, span, step, unit, y, ymag;\r\n      span = ymax - ymin;\r\n      ymag = Math.floor(Math.log(span) / Math.log(10));\r\n      unit = Math.pow(10, ymag);\r\n      gmin = Math.floor(ymin / unit) * unit;\r\n      gmax = Math.ceil(ymax / unit) * unit;\r\n      step = (gmax - gmin) / (nlines - 1);\r\n      if (unit === 1 && step > 1 && Math.ceil(step) !== step) {\r\n        step = Math.ceil(step);\r\n        gmax = gmin + step * (nlines - 1);\r\n      }\r\n      if (gmin < 0 && gmax > 0) {\r\n        gmin = Math.floor(ymin / step) * step;\r\n        gmax = Math.ceil(ymax / step) * step;\r\n      }\r\n      if (step < 1) {\r\n        smag = Math.floor(Math.log(step) / Math.log(10));\r\n        grid = (function() {\r\n          var _i, _results;\r\n          _results = [];\r\n          for (y = _i = gmin; gmin <= gmax ? _i <= gmax : _i >= gmax; y = _i += step) {\r\n            _results.push(parseFloat(y.toFixed(1 - smag)));\r\n          }\r\n          return _results;\r\n        })();\r\n      } else {\r\n        grid = (function() {\r\n          var _i, _results;\r\n          _results = [];\r\n          for (y = _i = gmin; gmin <= gmax ? _i <= gmax : _i >= gmax; y = _i += step) {\r\n            _results.push(y);\r\n          }\r\n          return _results;\r\n        })();\r\n      }\r\n      return grid;\r\n    };\r\n\r\n    Grid.prototype._calc = function() {\r\n      var bottomOffsets, gridLine, h, i, w, yLabelWidths;\r\n      w = this.el.width();\r\n      h = this.el.height();\r\n      if (this.elementWidth !== w || this.elementHeight !== h || this.dirty) {\r\n        this.elementWidth = w;\r\n        this.elementHeight = h;\r\n        this.dirty = false;\r\n        this.left = this.options.padding;\r\n        this.right = this.elementWidth - this.options.padding;\r\n        this.top = this.options.padding;\r\n        this.bottom = this.elementHeight - this.options.padding;\r\n        if (this.options.axes) {\r\n          yLabelWidths = (function() {\r\n            var _i, _len, _ref, _results;\r\n            _ref = this.grid;\r\n            _results = [];\r\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n              gridLine = _ref[_i];\r\n              _results.push(this.measureText(this.yAxisFormat(gridLine)).width);\r\n            }\r\n            return _results;\r\n          }).call(this);\r\n          this.left += Math.max.apply(Math, yLabelWidths);\r\n          bottomOffsets = (function() {\r\n            var _i, _ref, _results;\r\n            _results = [];\r\n            for (i = _i = 0, _ref = this.data.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\r\n              _results.push(this.measureText(this.data[i].text, -this.options.xLabelAngle).height);\r\n            }\r\n            return _results;\r\n          }).call(this);\r\n          this.bottom -= Math.max.apply(Math, bottomOffsets);\r\n        }\r\n        this.width = Math.max(1, this.right - this.left);\r\n        this.height = Math.max(1, this.bottom - this.top);\r\n        this.dx = this.width / (this.xmax - this.xmin);\r\n        this.dy = this.height / (this.ymax - this.ymin);\r\n        if (this.calc) {\r\n          return this.calc();\r\n        }\r\n      }\r\n    };\r\n\r\n    Grid.prototype.transY = function(y) {\r\n      return this.bottom - (y - this.ymin) * this.dy;\r\n    };\r\n\r\n    Grid.prototype.transX = function(x) {\r\n      if (this.data.length === 1) {\r\n        return (this.left + this.right) / 2;\r\n      } else {\r\n        return this.left + (x - this.xmin) * this.dx;\r\n      }\r\n    };\r\n\r\n    Grid.prototype.redraw = function() {\r\n      this.raphael.clear();\r\n      this._calc();\r\n      this.drawGrid();\r\n      this.drawGoals();\r\n      this.drawEvents();\r\n      if (this.draw) {\r\n        return this.draw();\r\n      }\r\n    };\r\n\r\n    Grid.prototype.measureText = function(text, angle) {\r\n      var ret, tt;\r\n      if (angle == null) {\r\n        angle = 0;\r\n      }\r\n      tt = this.raphael.text(100, 100, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).rotate(angle);\r\n      ret = tt.getBBox();\r\n      tt.remove();\r\n      return ret;\r\n    };\r\n\r\n    Grid.prototype.yAxisFormat = function(label) {\r\n      return this.yLabelFormat(label);\r\n    };\r\n\r\n    Grid.prototype.yLabelFormat = function(label) {\r\n      if (typeof this.options.yLabelFormat === 'function') {\r\n        return this.options.yLabelFormat(label);\r\n      } else {\r\n        return \"\" + this.options.preUnits + (Morris.commas(label)) + this.options.postUnits;\r\n      }\r\n    };\r\n\r\n    Grid.prototype.updateHover = function(x, y) {\r\n      var hit, _ref;\r\n      hit = this.hitTest(x, y);\r\n      if (hit != null) {\r\n        return (_ref = this.hover).update.apply(_ref, hit);\r\n      }\r\n    };\r\n\r\n    Grid.prototype.drawGrid = function() {\r\n      var lineY, y, _i, _len, _ref, _results;\r\n      if (this.options.grid === false && this.options.axes === false) {\r\n        return;\r\n      }\r\n      _ref = this.grid;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        lineY = _ref[_i];\r\n        y = this.transY(lineY);\r\n        if (this.options.axes) {\r\n          this.drawYAxisLabel(this.left - this.options.padding / 2, y, this.yAxisFormat(lineY));\r\n        }\r\n        if (this.options.grid) {\r\n          _results.push(this.drawGridLine(\"M\" + this.left + \",\" + y + \"H\" + (this.left + this.width)));\r\n        } else {\r\n          _results.push(void 0);\r\n        }\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Grid.prototype.drawGoals = function() {\r\n      var color, goal, i, _i, _len, _ref, _results;\r\n      _ref = this.options.goals;\r\n      _results = [];\r\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\r\n        goal = _ref[i];\r\n        color = this.options.goalLineColors[i % this.options.goalLineColors.length];\r\n        _results.push(this.drawGoal(goal, color));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Grid.prototype.drawEvents = function() {\r\n      var color, event, i, _i, _len, _ref, _results;\r\n      _ref = this.events;\r\n      _results = [];\r\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\r\n        event = _ref[i];\r\n        color = this.options.eventLineColors[i % this.options.eventLineColors.length];\r\n        _results.push(this.drawEvent(event, color));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Grid.prototype.drawGoal = function(goal, color) {\r\n      return this.raphael.path(\"M\" + this.left + \",\" + (this.transY(goal)) + \"H\" + this.right).attr('stroke', color).attr('stroke-width', this.options.goalStrokeWidth);\r\n    };\r\n\r\n    Grid.prototype.drawEvent = function(event, color) {\r\n      return this.raphael.path(\"M\" + (this.transX(event)) + \",\" + this.bottom + \"V\" + this.top).attr('stroke', color).attr('stroke-width', this.options.eventStrokeWidth);\r\n    };\r\n\r\n    Grid.prototype.drawYAxisLabel = function(xPos, yPos, text) {\r\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor).attr('text-anchor', 'end');\r\n    };\r\n\r\n    Grid.prototype.drawGridLine = function(path) {\r\n      return this.raphael.path(path).attr('stroke', this.options.gridLineColor).attr('stroke-width', this.options.gridStrokeWidth);\r\n    };\r\n\r\n    return Grid;\r\n\r\n  })(Morris.EventEmitter);\r\n\r\n  Morris.parseDate = function(date) {\r\n    var isecs, m, msecs, n, o, offsetmins, p, q, r, ret, secs;\r\n    if (typeof date === 'number') {\r\n      return date;\r\n    }\r\n    m = date.match(/^(\\d+) Q(\\d)$/);\r\n    n = date.match(/^(\\d+)-(\\d+)$/);\r\n    o = date.match(/^(\\d+)-(\\d+)-(\\d+)$/);\r\n    p = date.match(/^(\\d+) W(\\d+)$/);\r\n    q = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\r\n    r = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+):(\\d+(\\.\\d+)?)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\r\n    if (m) {\r\n      return new Date(parseInt(m[1], 10), parseInt(m[2], 10) * 3 - 1, 1).getTime();\r\n    } else if (n) {\r\n      return new Date(parseInt(n[1], 10), parseInt(n[2], 10) - 1, 1).getTime();\r\n    } else if (o) {\r\n      return new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, parseInt(o[3], 10)).getTime();\r\n    } else if (p) {\r\n      ret = new Date(parseInt(p[1], 10), 0, 1);\r\n      if (ret.getDay() !== 4) {\r\n        ret.setMonth(0, 1 + ((4 - ret.getDay()) + 7) % 7);\r\n      }\r\n      return ret.getTime() + parseInt(p[2], 10) * 604800000;\r\n    } else if (q) {\r\n      if (!q[6]) {\r\n        return new Date(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10)).getTime();\r\n      } else {\r\n        offsetmins = 0;\r\n        if (q[6] !== 'Z') {\r\n          offsetmins = parseInt(q[8], 10) * 60 + parseInt(q[9], 10);\r\n          if (q[7] === '+') {\r\n            offsetmins = 0 - offsetmins;\r\n          }\r\n        }\r\n        return Date.UTC(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10) + offsetmins);\r\n      }\r\n    } else if (r) {\r\n      secs = parseFloat(r[6]);\r\n      isecs = Math.floor(secs);\r\n      msecs = Math.round((secs - isecs) * 1000);\r\n      if (!r[8]) {\r\n        return new Date(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10), isecs, msecs).getTime();\r\n      } else {\r\n        offsetmins = 0;\r\n        if (r[8] !== 'Z') {\r\n          offsetmins = parseInt(r[10], 10) * 60 + parseInt(r[11], 10);\r\n          if (r[9] === '+') {\r\n            offsetmins = 0 - offsetmins;\r\n          }\r\n        }\r\n        return Date.UTC(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10) + offsetmins, isecs, msecs);\r\n      }\r\n    } else {\r\n      return new Date(parseInt(date, 10), 0, 1).getTime();\r\n    }\r\n  };\r\n\r\n  Morris.Hover = (function() {\r\n\r\n    Hover.defaults = {\r\n      \"class\": 'morris-hover morris-default-style'\r\n    };\r\n\r\n    function Hover(options) {\r\n      if (options == null) {\r\n        options = {};\r\n      }\r\n      this.options = $.extend({}, Morris.Hover.defaults, options);\r\n      this.el = $(\"<div class='\" + this.options[\"class\"] + \"'></div>\");\r\n      this.el.hide();\r\n      this.options.parent.append(this.el);\r\n    }\r\n\r\n    Hover.prototype.update = function(html, x, y) {\r\n      this.html(html);\r\n      this.show();\r\n      return this.moveTo(x, y);\r\n    };\r\n\r\n    Hover.prototype.html = function(content) {\r\n      return this.el.html(content);\r\n    };\r\n\r\n    Hover.prototype.moveTo = function(x, y) {\r\n      var hoverHeight, hoverWidth, left, parentHeight, parentWidth, top;\r\n      parentWidth = this.options.parent.innerWidth();\r\n      parentHeight = this.options.parent.innerHeight();\r\n      hoverWidth = this.el.outerWidth();\r\n      hoverHeight = this.el.outerHeight();\r\n      left = Math.min(Math.max(0, x - hoverWidth / 2), parentWidth - hoverWidth);\r\n      if (y != null) {\r\n        top = y - hoverHeight - 10;\r\n        if (top < 0) {\r\n          top = y + 10;\r\n          if (top + hoverHeight > parentHeight) {\r\n            top = parentHeight / 2 - hoverHeight / 2;\r\n          }\r\n        }\r\n      } else {\r\n        top = parentHeight / 2 - hoverHeight / 2;\r\n      }\r\n      return this.el.css({\r\n        left: left + \"px\",\r\n        top: parseInt(top) + \"px\"\r\n      });\r\n    };\r\n\r\n    Hover.prototype.show = function() {\r\n      return this.el.show();\r\n    };\r\n\r\n    Hover.prototype.hide = function() {\r\n      return this.el.hide();\r\n    };\r\n\r\n    return Hover;\r\n\r\n  })();\r\n\r\n  Morris.Line = (function(_super) {\r\n\r\n    __extends(Line, _super);\r\n\r\n    function Line(options) {\r\n      this.hilight = __bind(this.hilight, this);\r\n\r\n      this.onHoverOut = __bind(this.onHoverOut, this);\r\n\r\n      this.onHoverMove = __bind(this.onHoverMove, this);\r\n\r\n      this.onGridClick = __bind(this.onGridClick, this);\r\n      if (!(this instanceof Morris.Line)) {\r\n        return new Morris.Line(options);\r\n      }\r\n      Line.__super__.constructor.call(this, options);\r\n    }\r\n\r\n    Line.prototype.init = function() {\r\n      this.pointGrow = Raphael.animation({\r\n        r: this.options.pointSize + 3\r\n      }, 25, 'linear');\r\n      this.pointShrink = Raphael.animation({\r\n        r: this.options.pointSize\r\n      }, 25, 'linear');\r\n      if (this.options.hideHover !== 'always') {\r\n        this.hover = new Morris.Hover({\r\n          parent: this.el\r\n        });\r\n        this.on('hovermove', this.onHoverMove);\r\n        this.on('hoverout', this.onHoverOut);\r\n        return this.on('gridclick', this.onGridClick);\r\n      }\r\n    };\r\n\r\n    Line.prototype.defaults = {\r\n      lineWidth: 3,\r\n      pointSize: 4,\r\n      lineColors: ['#0b62a4', '#7A92A3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\r\n      pointWidths: [1],\r\n      pointStrokeColors: ['#ffffff'],\r\n      pointFillColors: [],\r\n      smooth: true,\r\n      xLabels: 'auto',\r\n      xLabelFormat: null,\r\n      xLabelMargin: 24,\r\n      continuousLine: true,\r\n      hideHover: false\r\n    };\r\n\r\n    Line.prototype.calc = function() {\r\n      this.calcPoints();\r\n      return this.generatePaths();\r\n    };\r\n\r\n    Line.prototype.calcPoints = function() {\r\n      var row, y, _i, _len, _ref, _results;\r\n      _ref = this.data;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        row = _ref[_i];\r\n        row._x = this.transX(row.x);\r\n        row._y = (function() {\r\n          var _j, _len1, _ref1, _results1;\r\n          _ref1 = row.y;\r\n          _results1 = [];\r\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\r\n            y = _ref1[_j];\r\n            if (y != null) {\r\n              _results1.push(this.transY(y));\r\n            } else {\r\n              _results1.push(y);\r\n            }\r\n          }\r\n          return _results1;\r\n        }).call(this);\r\n        _results.push(row._ymax = Math.min.apply(null, [this.bottom].concat((function() {\r\n          var _j, _len1, _ref1, _results1;\r\n          _ref1 = row._y;\r\n          _results1 = [];\r\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\r\n            y = _ref1[_j];\r\n            if (y != null) {\r\n              _results1.push(y);\r\n            }\r\n          }\r\n          return _results1;\r\n        })())));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Line.prototype.hitTest = function(x, y) {\r\n      var index, r, _i, _len, _ref;\r\n      if (this.data.length === 0) {\r\n        return null;\r\n      }\r\n      _ref = this.data.slice(1);\r\n      for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\r\n        r = _ref[index];\r\n        if (x < (r._x + this.data[index]._x) / 2) {\r\n          break;\r\n        }\r\n      }\r\n      return index;\r\n    };\r\n\r\n    Line.prototype.onGridClick = function(x, y) {\r\n      var index;\r\n      index = this.hitTest(x, y);\r\n      return this.fire('click', index, this.options.data[index], x, y);\r\n    };\r\n\r\n    Line.prototype.onHoverMove = function(x, y) {\r\n      var index;\r\n      index = this.hitTest(x, y);\r\n      return this.displayHoverForRow(index);\r\n    };\r\n\r\n    Line.prototype.onHoverOut = function() {\r\n      if (this.options.hideHover !== false) {\r\n        return this.displayHoverForRow(null);\r\n      }\r\n    };\r\n\r\n    Line.prototype.displayHoverForRow = function(index) {\r\n      var _ref;\r\n      if (index != null) {\r\n        (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\r\n        return this.hilight(index);\r\n      } else {\r\n        this.hover.hide();\r\n        return this.hilight();\r\n      }\r\n    };\r\n\r\n    Line.prototype.hoverContentForRow = function(index) {\r\n      var content, j, row, y, _i, _len, _ref;\r\n      row = this.data[index];\r\n      content = \"<div class='morris-hover-row-label'>\" + row.label + \"</div>\";\r\n      _ref = row.y;\r\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\r\n        y = _ref[j];\r\n        content += \"<div class='morris-hover-point' style='color: \" + (this.colorFor(row, j, 'label')) + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + (this.yLabelFormat(y)) + \"\\n</div>\";\r\n      }\r\n      if (typeof this.options.hoverCallback === 'function') {\r\n        content = this.options.hoverCallback(index, this.options, content);\r\n      }\r\n      return [content, row._x, row._ymax];\r\n    };\r\n\r\n    Line.prototype.generatePaths = function() {\r\n      var c, coords, i, r, smooth;\r\n      return this.paths = (function() {\r\n        var _i, _ref, _ref1, _results;\r\n        _results = [];\r\n        for (i = _i = 0, _ref = this.options.ykeys.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\r\n          smooth = this.options.smooth === true || (_ref1 = this.options.ykeys[i], __indexOf.call(this.options.smooth, _ref1) >= 0);\r\n          coords = (function() {\r\n            var _j, _len, _ref2, _results1;\r\n            _ref2 = this.data;\r\n            _results1 = [];\r\n            for (_j = 0, _len = _ref2.length; _j < _len; _j++) {\r\n              r = _ref2[_j];\r\n              if (r._y[i] !== void 0) {\r\n                _results1.push({\r\n                  x: r._x,\r\n                  y: r._y[i]\r\n                });\r\n              }\r\n            }\r\n            return _results1;\r\n          }).call(this);\r\n          if (this.options.continuousLine) {\r\n            coords = (function() {\r\n              var _j, _len, _results1;\r\n              _results1 = [];\r\n              for (_j = 0, _len = coords.length; _j < _len; _j++) {\r\n                c = coords[_j];\r\n                if (c.y !== null) {\r\n                  _results1.push(c);\r\n                }\r\n              }\r\n              return _results1;\r\n            })();\r\n          }\r\n          if (coords.length > 1) {\r\n            _results.push(Morris.Line.createPath(coords, smooth, this.bottom));\r\n          } else {\r\n            _results.push(null);\r\n          }\r\n        }\r\n        return _results;\r\n      }).call(this);\r\n    };\r\n\r\n    Line.prototype.draw = function() {\r\n      if (this.options.axes) {\r\n        this.drawXAxis();\r\n      }\r\n      this.drawSeries();\r\n      if (this.options.hideHover === false) {\r\n        return this.displayHoverForRow(this.data.length - 1);\r\n      }\r\n    };\r\n\r\n    Line.prototype.drawXAxis = function() {\r\n      var drawLabel, l, labels, prevAngleMargin, prevLabelMargin, row, ypos, _i, _len, _results,\r\n        _this = this;\r\n      ypos = this.bottom + this.options.padding / 2;\r\n      prevLabelMargin = null;\r\n      prevAngleMargin = null;\r\n      drawLabel = function(labelText, xpos) {\r\n        var label, labelBox, margin, offset, textBox;\r\n        label = _this.drawXAxisLabel(_this.transX(xpos), ypos, labelText);\r\n        textBox = label.getBBox();\r\n        label.transform(\"r\" + (-_this.options.xLabelAngle));\r\n        labelBox = label.getBBox();\r\n        label.transform(\"t0,\" + (labelBox.height / 2) + \"...\");\r\n        if (_this.options.xLabelAngle !== 0) {\r\n          offset = -0.5 * textBox.width * Math.cos(_this.options.xLabelAngle * Math.PI / 180.0);\r\n          label.transform(\"t\" + offset + \",0...\");\r\n        }\r\n        labelBox = label.getBBox();\r\n        if ((!(prevLabelMargin != null) || prevLabelMargin >= labelBox.x + labelBox.width || (prevAngleMargin != null) && prevAngleMargin >= labelBox.x) && labelBox.x >= 0 && (labelBox.x + labelBox.width) < _this.el.width()) {\r\n          if (_this.options.xLabelAngle !== 0) {\r\n            margin = 1.25 * _this.options.gridTextSize / Math.sin(_this.options.xLabelAngle * Math.PI / 180.0);\r\n            prevAngleMargin = labelBox.x - margin;\r\n          }\r\n          return prevLabelMargin = labelBox.x - _this.options.xLabelMargin;\r\n        } else {\r\n          return label.remove();\r\n        }\r\n      };\r\n      if (this.options.parseTime) {\r\n        if (this.data.length === 1 && this.options.xLabels === 'auto') {\r\n          labels = [[this.data[0].label, this.data[0].x]];\r\n        } else {\r\n          labels = Morris.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat);\r\n        }\r\n      } else {\r\n        labels = (function() {\r\n          var _i, _len, _ref, _results;\r\n          _ref = this.data;\r\n          _results = [];\r\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n            row = _ref[_i];\r\n            _results.push([row.label, row.x]);\r\n          }\r\n          return _results;\r\n        }).call(this);\r\n      }\r\n      labels.reverse();\r\n      _results = [];\r\n      for (_i = 0, _len = labels.length; _i < _len; _i++) {\r\n        l = labels[_i];\r\n        _results.push(drawLabel(l[0], l[1]));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Line.prototype.drawSeries = function() {\r\n      var i, _i, _j, _ref, _ref1, _results;\r\n      this.seriesPoints = [];\r\n      for (i = _i = _ref = this.options.ykeys.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {\r\n        this._drawLineFor(i);\r\n      }\r\n      _results = [];\r\n      for (i = _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; i = _ref1 <= 0 ? ++_j : --_j) {\r\n        _results.push(this._drawPointFor(i));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Line.prototype._drawPointFor = function(index) {\r\n      var circle, row, _i, _len, _ref, _results;\r\n      this.seriesPoints[index] = [];\r\n      _ref = this.data;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        row = _ref[_i];\r\n        circle = null;\r\n        if (row._y[index] != null) {\r\n          circle = this.drawLinePoint(row._x, row._y[index], this.options.pointSize, this.colorFor(row, index, 'point'), index);\r\n        }\r\n        _results.push(this.seriesPoints[index].push(circle));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Line.prototype._drawLineFor = function(index) {\r\n      var path;\r\n      path = this.paths[index];\r\n      if (path !== null) {\r\n        return this.drawLinePath(path, this.colorFor(null, index, 'line'));\r\n      }\r\n    };\r\n\r\n    Line.createPath = function(coords, smooth, bottom) {\r\n      var coord, g, grads, i, ix, lg, path, prevCoord, x1, x2, y1, y2, _i, _len;\r\n      path = \"\";\r\n      if (smooth) {\r\n        grads = Morris.Line.gradients(coords);\r\n      }\r\n      prevCoord = {\r\n        y: null\r\n      };\r\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\r\n        coord = coords[i];\r\n        if (coord.y != null) {\r\n          if (prevCoord.y != null) {\r\n            if (smooth) {\r\n              g = grads[i];\r\n              lg = grads[i - 1];\r\n              ix = (coord.x - prevCoord.x) / 4;\r\n              x1 = prevCoord.x + ix;\r\n              y1 = Math.min(bottom, prevCoord.y + ix * lg);\r\n              x2 = coord.x - ix;\r\n              y2 = Math.min(bottom, coord.y - ix * g);\r\n              path += \"C\" + x1 + \",\" + y1 + \",\" + x2 + \",\" + y2 + \",\" + coord.x + \",\" + coord.y;\r\n            } else {\r\n              path += \"L\" + coord.x + \",\" + coord.y;\r\n            }\r\n          } else {\r\n            if (!smooth || (grads[i] != null)) {\r\n              path += \"M\" + coord.x + \",\" + coord.y;\r\n            }\r\n          }\r\n        }\r\n        prevCoord = coord;\r\n      }\r\n      return path;\r\n    };\r\n\r\n    Line.gradients = function(coords) {\r\n      var coord, grad, i, nextCoord, prevCoord, _i, _len, _results;\r\n      grad = function(a, b) {\r\n        return (a.y - b.y) / (a.x - b.x);\r\n      };\r\n      _results = [];\r\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\r\n        coord = coords[i];\r\n        if (coord.y != null) {\r\n          nextCoord = coords[i + 1] || {\r\n            y: null\r\n          };\r\n          prevCoord = coords[i - 1] || {\r\n            y: null\r\n          };\r\n          if ((prevCoord.y != null) && (nextCoord.y != null)) {\r\n            _results.push(grad(prevCoord, nextCoord));\r\n          } else if (prevCoord.y != null) {\r\n            _results.push(grad(prevCoord, coord));\r\n          } else if (nextCoord.y != null) {\r\n            _results.push(grad(coord, nextCoord));\r\n          } else {\r\n            _results.push(null);\r\n          }\r\n        } else {\r\n          _results.push(null);\r\n        }\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Line.prototype.hilight = function(index) {\r\n      var i, _i, _j, _ref, _ref1;\r\n      if (this.prevHilight !== null && this.prevHilight !== index) {\r\n        for (i = _i = 0, _ref = this.seriesPoints.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\r\n          if (this.seriesPoints[i][this.prevHilight]) {\r\n            this.seriesPoints[i][this.prevHilight].animate(this.pointShrink);\r\n          }\r\n        }\r\n      }\r\n      if (index !== null && this.prevHilight !== index) {\r\n        for (i = _j = 0, _ref1 = this.seriesPoints.length - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\r\n          if (this.seriesPoints[i][index]) {\r\n            this.seriesPoints[i][index].animate(this.pointGrow);\r\n          }\r\n        }\r\n      }\r\n      return this.prevHilight = index;\r\n    };\r\n\r\n    Line.prototype.colorFor = function(row, sidx, type) {\r\n      if (typeof this.options.lineColors === 'function') {\r\n        return this.options.lineColors.call(this, row, sidx, type);\r\n      } else if (type === 'point') {\r\n        return this.options.pointFillColors[sidx % this.options.pointFillColors.length] || this.options.lineColors[sidx % this.options.lineColors.length];\r\n      } else {\r\n        return this.options.lineColors[sidx % this.options.lineColors.length];\r\n      }\r\n    };\r\n\r\n    Line.prototype.drawXAxisLabel = function(xPos, yPos, text) {\r\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\r\n    };\r\n\r\n    Line.prototype.drawLinePath = function(path, lineColor) {\r\n      return this.raphael.path(path).attr('stroke', lineColor).attr('stroke-width', this.options.lineWidth);\r\n    };\r\n\r\n    Line.prototype.drawLinePoint = function(xPos, yPos, size, pointColor, lineIndex) {\r\n      return this.raphael.circle(xPos, yPos, size).attr('fill', pointColor).attr('stroke-width', this.strokeWidthForSeries(lineIndex)).attr('stroke', this.strokeForSeries(lineIndex));\r\n    };\r\n\r\n    Line.prototype.strokeWidthForSeries = function(index) {\r\n      return this.options.pointWidths[index % this.options.pointWidths.length];\r\n    };\r\n\r\n    Line.prototype.strokeForSeries = function(index) {\r\n      return this.options.pointStrokeColors[index % this.options.pointStrokeColors.length];\r\n    };\r\n\r\n    return Line;\r\n\r\n  })(Morris.Grid);\r\n\r\n  Morris.labelSeries = function(dmin, dmax, pxwidth, specName, xLabelFormat) {\r\n    var d, d0, ddensity, name, ret, s, spec, t, _i, _len, _ref;\r\n    ddensity = 200 * (dmax - dmin) / pxwidth;\r\n    d0 = new Date(dmin);\r\n    spec = Morris.LABEL_SPECS[specName];\r\n    if (spec === void 0) {\r\n      _ref = Morris.AUTO_LABEL_ORDER;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        name = _ref[_i];\r\n        s = Morris.LABEL_SPECS[name];\r\n        if (ddensity >= s.span) {\r\n          spec = s;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (spec === void 0) {\r\n      spec = Morris.LABEL_SPECS[\"second\"];\r\n    }\r\n    if (xLabelFormat) {\r\n      spec = $.extend({}, spec, {\r\n        fmt: xLabelFormat\r\n      });\r\n    }\r\n    d = spec.start(d0);\r\n    ret = [];\r\n    while ((t = d.getTime()) <= dmax) {\r\n      if (t >= dmin) {\r\n        ret.push([spec.fmt(d), t]);\r\n      }\r\n      spec.incr(d);\r\n    }\r\n    return ret;\r\n  };\r\n\r\n  minutesSpecHelper = function(interval) {\r\n    return {\r\n      span: interval * 60 * 1000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (Morris.pad2(d.getHours())) + \":\" + (Morris.pad2(d.getMinutes()));\r\n      },\r\n      incr: function(d) {\r\n        return d.setUTCMinutes(d.getUTCMinutes() + interval);\r\n      }\r\n    };\r\n  };\r\n\r\n  secondsSpecHelper = function(interval) {\r\n    return {\r\n      span: interval * 1000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes());\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (Morris.pad2(d.getHours())) + \":\" + (Morris.pad2(d.getMinutes())) + \":\" + (Morris.pad2(d.getSeconds()));\r\n      },\r\n      incr: function(d) {\r\n        return d.setUTCSeconds(d.getUTCSeconds() + interval);\r\n      }\r\n    };\r\n  };\r\n\r\n  Morris.LABEL_SPECS = {\r\n    \"decade\": {\r\n      span: 172800000000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear() - d.getFullYear() % 10, 0, 1);\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (d.getFullYear());\r\n      },\r\n      incr: function(d) {\r\n        return d.setFullYear(d.getFullYear() + 10);\r\n      }\r\n    },\r\n    \"year\": {\r\n      span: 17280000000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear(), 0, 1);\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (d.getFullYear());\r\n      },\r\n      incr: function(d) {\r\n        return d.setFullYear(d.getFullYear() + 1);\r\n      }\r\n    },\r\n    \"month\": {\r\n      span: 2419200000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear(), d.getMonth(), 1);\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (d.getFullYear()) + \"-\" + (Morris.pad2(d.getMonth() + 1));\r\n      },\r\n      incr: function(d) {\r\n        return d.setMonth(d.getMonth() + 1);\r\n      }\r\n    },\r\n    \"day\": {\r\n      span: 86400000,\r\n      start: function(d) {\r\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\r\n      },\r\n      fmt: function(d) {\r\n        return \"\" + (d.getFullYear()) + \"-\" + (Morris.pad2(d.getMonth() + 1)) + \"-\" + (Morris.pad2(d.getDate()));\r\n      },\r\n      incr: function(d) {\r\n        return d.setDate(d.getDate() + 1);\r\n      }\r\n    },\r\n    \"hour\": minutesSpecHelper(60),\r\n    \"30min\": minutesSpecHelper(30),\r\n    \"15min\": minutesSpecHelper(15),\r\n    \"10min\": minutesSpecHelper(10),\r\n    \"5min\": minutesSpecHelper(5),\r\n    \"minute\": minutesSpecHelper(1),\r\n    \"30sec\": secondsSpecHelper(30),\r\n    \"15sec\": secondsSpecHelper(15),\r\n    \"10sec\": secondsSpecHelper(10),\r\n    \"5sec\": secondsSpecHelper(5),\r\n    \"second\": secondsSpecHelper(1)\r\n  };\r\n\r\n  Morris.AUTO_LABEL_ORDER = [\"decade\", \"year\", \"month\", \"day\", \"hour\", \"30min\", \"15min\", \"10min\", \"5min\", \"minute\", \"30sec\", \"15sec\", \"10sec\", \"5sec\", \"second\"];\r\n\r\n  Morris.Area = (function(_super) {\r\n    var areaDefaults;\r\n\r\n    __extends(Area, _super);\r\n\r\n    areaDefaults = {\r\n      fillOpacity: 'auto',\r\n      behaveLikeLine: false\r\n    };\r\n\r\n    function Area(options) {\r\n      var areaOptions;\r\n      if (!(this instanceof Morris.Area)) {\r\n        return new Morris.Area(options);\r\n      }\r\n      areaOptions = $.extend({}, areaDefaults, options);\r\n      this.cumulative = !areaOptions.behaveLikeLine;\r\n      if (areaOptions.fillOpacity === 'auto') {\r\n        areaOptions.fillOpacity = areaOptions.behaveLikeLine ? .8 : 1;\r\n      }\r\n      Area.__super__.constructor.call(this, areaOptions);\r\n    }\r\n\r\n    Area.prototype.calcPoints = function() {\r\n      var row, total, y, _i, _len, _ref, _results;\r\n      _ref = this.data;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        row = _ref[_i];\r\n        row._x = this.transX(row.x);\r\n        total = 0;\r\n        row._y = (function() {\r\n          var _j, _len1, _ref1, _results1;\r\n          _ref1 = row.y;\r\n          _results1 = [];\r\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\r\n            y = _ref1[_j];\r\n            if (this.options.behaveLikeLine) {\r\n              _results1.push(this.transY(y));\r\n            } else {\r\n              total += y || 0;\r\n              _results1.push(this.transY(total));\r\n            }\r\n          }\r\n          return _results1;\r\n        }).call(this);\r\n        _results.push(row._ymax = Math.max.apply(Math, row._y));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Area.prototype.drawSeries = function() {\r\n      var i, range, _i, _j, _k, _len, _ref, _ref1, _results, _results1, _results2;\r\n      this.seriesPoints = [];\r\n      if (this.options.behaveLikeLine) {\r\n        range = (function() {\r\n          _results = [];\r\n          for (var _i = 0, _ref = this.options.ykeys.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }\r\n          return _results;\r\n        }).apply(this);\r\n      } else {\r\n        range = (function() {\r\n          _results1 = [];\r\n          for (var _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; _ref1 <= 0 ? _j++ : _j--){ _results1.push(_j); }\r\n          return _results1;\r\n        }).apply(this);\r\n      }\r\n      _results2 = [];\r\n      for (_k = 0, _len = range.length; _k < _len; _k++) {\r\n        i = range[_k];\r\n        this._drawFillFor(i);\r\n        this._drawLineFor(i);\r\n        _results2.push(this._drawPointFor(i));\r\n      }\r\n      return _results2;\r\n    };\r\n\r\n    Area.prototype._drawFillFor = function(index) {\r\n      var path;\r\n      path = this.paths[index];\r\n      if (path !== null) {\r\n        path = path + (\"L\" + (this.transX(this.xmax)) + \",\" + this.bottom + \"L\" + (this.transX(this.xmin)) + \",\" + this.bottom + \"Z\");\r\n        return this.drawFilledPath(path, this.fillForSeries(index));\r\n      }\r\n    };\r\n\r\n    Area.prototype.fillForSeries = function(i) {\r\n      var color;\r\n      color = Raphael.rgb2hsl(this.colorFor(this.data[i], i, 'line'));\r\n      return Raphael.hsl(color.h, this.options.behaveLikeLine ? color.s * 0.9 : color.s * 0.75, Math.min(0.98, this.options.behaveLikeLine ? color.l * 1.2 : color.l * 1.25));\r\n    };\r\n\r\n    Area.prototype.drawFilledPath = function(path, fill) {\r\n      return this.raphael.path(path).attr('fill', fill).attr('fill-opacity', this.options.fillOpacity).attr('stroke-width', 0);\r\n    };\r\n\r\n    return Area;\r\n\r\n  })(Morris.Line);\r\n\r\n  Morris.Bar = (function(_super) {\r\n\r\n    __extends(Bar, _super);\r\n\r\n    function Bar(options) {\r\n      this.onHoverOut = __bind(this.onHoverOut, this);\r\n\r\n      this.onHoverMove = __bind(this.onHoverMove, this);\r\n\r\n      this.onGridClick = __bind(this.onGridClick, this);\r\n      if (!(this instanceof Morris.Bar)) {\r\n        return new Morris.Bar(options);\r\n      }\r\n      Bar.__super__.constructor.call(this, $.extend({}, options, {\r\n        parseTime: false\r\n      }));\r\n    }\r\n\r\n    Bar.prototype.init = function() {\r\n      this.cumulative = this.options.stacked;\r\n      if (this.options.hideHover !== 'always') {\r\n        this.hover = new Morris.Hover({\r\n          parent: this.el\r\n        });\r\n        this.on('hovermove', this.onHoverMove);\r\n        this.on('hoverout', this.onHoverOut);\r\n        return this.on('gridclick', this.onGridClick);\r\n      }\r\n    };\r\n\r\n    Bar.prototype.defaults = {\r\n      barSizeRatio: 0.75,\r\n      barGap: 3,\r\n      barColors: ['#0b62a4', '#7a92a3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\r\n      xLabelMargin: 50\r\n    };\r\n\r\n    Bar.prototype.calc = function() {\r\n      var _ref;\r\n      this.calcBars();\r\n      if (this.options.hideHover === false) {\r\n        return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(this.data.length - 1));\r\n      }\r\n    };\r\n\r\n    Bar.prototype.calcBars = function() {\r\n      var idx, row, y, _i, _len, _ref, _results;\r\n      _ref = this.data;\r\n      _results = [];\r\n      for (idx = _i = 0, _len = _ref.length; _i < _len; idx = ++_i) {\r\n        row = _ref[idx];\r\n        row._x = this.left + this.width * (idx + 0.5) / this.data.length;\r\n        _results.push(row._y = (function() {\r\n          var _j, _len1, _ref1, _results1;\r\n          _ref1 = row.y;\r\n          _results1 = [];\r\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\r\n            y = _ref1[_j];\r\n            if (y != null) {\r\n              _results1.push(this.transY(y));\r\n            } else {\r\n              _results1.push(null);\r\n            }\r\n          }\r\n          return _results1;\r\n        }).call(this));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Bar.prototype.draw = function() {\r\n      if (this.options.axes) {\r\n        this.drawXAxis();\r\n      }\r\n      return this.drawSeries();\r\n    };\r\n\r\n    Bar.prototype.drawXAxis = function() {\r\n      var i, label, labelBox, margin, offset, prevAngleMargin, prevLabelMargin, row, textBox, ypos, _i, _ref, _results;\r\n      ypos = this.bottom + this.options.padding / 2;\r\n      prevLabelMargin = null;\r\n      prevAngleMargin = null;\r\n      _results = [];\r\n      for (i = _i = 0, _ref = this.data.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\r\n        row = this.data[this.data.length - 1 - i];\r\n        label = this.drawXAxisLabel(row._x, ypos, row.label);\r\n        textBox = label.getBBox();\r\n        label.transform(\"r\" + (-this.options.xLabelAngle));\r\n        labelBox = label.getBBox();\r\n        label.transform(\"t0,\" + (labelBox.height / 2) + \"...\");\r\n        if (this.options.xLabelAngle !== 0) {\r\n          offset = -0.5 * textBox.width * Math.cos(this.options.xLabelAngle * Math.PI / 180.0);\r\n          label.transform(\"t\" + offset + \",0...\");\r\n        }\r\n        if ((!(prevLabelMargin != null) || prevLabelMargin >= labelBox.x + labelBox.width || (prevAngleMargin != null) && prevAngleMargin >= labelBox.x) && labelBox.x >= 0 && (labelBox.x + labelBox.width) < this.el.width()) {\r\n          if (this.options.xLabelAngle !== 0) {\r\n            margin = 1.25 * this.options.gridTextSize / Math.sin(this.options.xLabelAngle * Math.PI / 180.0);\r\n            prevAngleMargin = labelBox.x - margin;\r\n          }\r\n          _results.push(prevLabelMargin = labelBox.x - this.options.xLabelMargin);\r\n        } else {\r\n          _results.push(label.remove());\r\n        }\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Bar.prototype.drawSeries = function() {\r\n      var barWidth, bottom, groupWidth, idx, lastTop, left, leftPadding, numBars, row, sidx, size, top, ypos, zeroPos;\r\n      groupWidth = this.width / this.options.data.length;\r\n      numBars = this.options.stacked != null ? 1 : this.options.ykeys.length;\r\n      barWidth = (groupWidth * this.options.barSizeRatio - this.options.barGap * (numBars - 1)) / numBars;\r\n      leftPadding = groupWidth * (1 - this.options.barSizeRatio) / 2;\r\n      zeroPos = this.ymin <= 0 && this.ymax >= 0 ? this.transY(0) : null;\r\n      return this.bars = (function() {\r\n        var _i, _len, _ref, _results;\r\n        _ref = this.data;\r\n        _results = [];\r\n        for (idx = _i = 0, _len = _ref.length; _i < _len; idx = ++_i) {\r\n          row = _ref[idx];\r\n          lastTop = 0;\r\n          _results.push((function() {\r\n            var _j, _len1, _ref1, _results1;\r\n            _ref1 = row._y;\r\n            _results1 = [];\r\n            for (sidx = _j = 0, _len1 = _ref1.length; _j < _len1; sidx = ++_j) {\r\n              ypos = _ref1[sidx];\r\n              if (ypos !== null) {\r\n                if (zeroPos) {\r\n                  top = Math.min(ypos, zeroPos);\r\n                  bottom = Math.max(ypos, zeroPos);\r\n                } else {\r\n                  top = ypos;\r\n                  bottom = this.bottom;\r\n                }\r\n                left = this.left + idx * groupWidth + leftPadding;\r\n                if (!this.options.stacked) {\r\n                  left += sidx * (barWidth + this.options.barGap);\r\n                }\r\n                size = bottom - top;\r\n                if (this.options.stacked) {\r\n                  top -= lastTop;\r\n                }\r\n                this.drawBar(left, top, barWidth, size, this.colorFor(row, sidx, 'bar'));\r\n                _results1.push(lastTop += size);\r\n              } else {\r\n                _results1.push(null);\r\n              }\r\n            }\r\n            return _results1;\r\n          }).call(this));\r\n        }\r\n        return _results;\r\n      }).call(this);\r\n    };\r\n\r\n    Bar.prototype.colorFor = function(row, sidx, type) {\r\n      var r, s;\r\n      if (typeof this.options.barColors === 'function') {\r\n        r = {\r\n          x: row.x,\r\n          y: row.y[sidx],\r\n          label: row.label\r\n        };\r\n        s = {\r\n          index: sidx,\r\n          key: this.options.ykeys[sidx],\r\n          label: this.options.labels[sidx]\r\n        };\r\n        return this.options.barColors.call(this, r, s, type);\r\n      } else {\r\n        return this.options.barColors[sidx % this.options.barColors.length];\r\n      }\r\n    };\r\n\r\n    Bar.prototype.hitTest = function(x, y) {\r\n      if (this.data.length === 0) {\r\n        return null;\r\n      }\r\n      x = Math.max(Math.min(x, this.right), this.left);\r\n      return Math.min(this.data.length - 1, Math.floor((x - this.left) / (this.width / this.data.length)));\r\n    };\r\n\r\n    Bar.prototype.onGridClick = function(x, y) {\r\n      var index;\r\n      index = this.hitTest(x, y);\r\n      return this.fire('click', index, this.options.data[index], x, y);\r\n    };\r\n\r\n    Bar.prototype.onHoverMove = function(x, y) {\r\n      var index, _ref;\r\n      index = this.hitTest(x, y);\r\n      return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\r\n    };\r\n\r\n    Bar.prototype.onHoverOut = function() {\r\n      if (this.options.hideHover !== false) {\r\n        return this.hover.hide();\r\n      }\r\n    };\r\n\r\n    Bar.prototype.hoverContentForRow = function(index) {\r\n      var content, j, row, x, y, _i, _len, _ref;\r\n      row = this.data[index];\r\n      content = \"<div class='morris-hover-row-label'>\" + row.label + \"</div>\";\r\n      _ref = row.y;\r\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\r\n        y = _ref[j];\r\n        content += \"<div class='morris-hover-point' style='color: \" + (this.colorFor(row, j, 'label')) + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + (this.yLabelFormat(y)) + \"\\n</div>\";\r\n      }\r\n      if (typeof this.options.hoverCallback === 'function') {\r\n        content = this.options.hoverCallback(index, this.options, content);\r\n      }\r\n      x = this.left + (index + 0.5) * this.width / this.data.length;\r\n      return [content, x];\r\n    };\r\n\r\n    Bar.prototype.drawXAxisLabel = function(xPos, yPos, text) {\r\n      var label;\r\n      return label = this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\r\n    };\r\n\r\n    Bar.prototype.drawBar = function(xPos, yPos, width, height, barColor) {\r\n      return this.raphael.rect(xPos, yPos, width, height).attr('fill', barColor).attr('stroke-width', 0);\r\n    };\r\n\r\n    return Bar;\r\n\r\n  })(Morris.Grid);\r\n\r\n  Morris.Donut = (function(_super) {\r\n\r\n    __extends(Donut, _super);\r\n\r\n    Donut.prototype.defaults = {\r\n      colors: ['#0B62A4', '#3980B5', '#679DC6', '#95BBD7', '#B0CCE1', '#095791', '#095085', '#083E67', '#052C48', '#042135'],\r\n      backgroundColor: '#FFFFFF',\r\n      labelColor: '#000000',\r\n      formatter: Morris.commas\r\n    };\r\n\r\n    function Donut(options) {\r\n      this.select = __bind(this.select, this);\r\n\r\n      this.click = __bind(this.click, this);\r\n\r\n      var row;\r\n      if (!(this instanceof Morris.Donut)) {\r\n        return new Morris.Donut(options);\r\n      }\r\n      if (typeof options.element === 'string') {\r\n        this.el = $(document.getElementById(options.element));\r\n      } else {\r\n        this.el = $(options.element);\r\n      }\r\n      this.options = $.extend({}, this.defaults, options);\r\n      if (this.el === null || this.el.length === 0) {\r\n        throw new Error(\"Graph placeholder not found.\");\r\n      }\r\n      if (options.data === void 0 || options.data.length === 0) {\r\n        return;\r\n      }\r\n      this.data = options.data;\r\n      this.values = (function() {\r\n        var _i, _len, _ref, _results;\r\n        _ref = this.data;\r\n        _results = [];\r\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n          row = _ref[_i];\r\n          _results.push(parseFloat(row.value));\r\n        }\r\n        return _results;\r\n      }).call(this);\r\n      this.redraw();\r\n    }\r\n\r\n    Donut.prototype.redraw = function() {\r\n      var C, cx, cy, i, idx, last, max_value, min, next, seg, total, value, w, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\r\n      this.el.empty();\r\n      this.raphael = new Raphael(this.el[0]);\r\n      cx = this.el.width() / 2;\r\n      cy = this.el.height() / 2;\r\n      w = (Math.min(cx, cy) - 10) / 3;\r\n      total = 0;\r\n      _ref = this.values;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        value = _ref[_i];\r\n        total += value;\r\n      }\r\n      min = 5 / (2 * w);\r\n      C = 1.9999 * Math.PI - min * this.data.length;\r\n      last = 0;\r\n      idx = 0;\r\n      this.segments = [];\r\n      _ref1 = this.values;\r\n      for (i = _j = 0, _len1 = _ref1.length; _j < _len1; i = ++_j) {\r\n        value = _ref1[i];\r\n        next = last + min + C * (value / total);\r\n        seg = new Morris.DonutSegment(cx, cy, w * 2, w, last, next, this.options.colors[idx % this.options.colors.length], this.options.backgroundColor, idx, this.raphael);\r\n        seg.render();\r\n        this.segments.push(seg);\r\n        seg.on('hover', this.select);\r\n        seg.on('click', this.click);\r\n        last = next;\r\n        idx += 1;\r\n      }\r\n      this.text1 = this.drawEmptyDonutLabel(cx, cy - 10, this.options.labelColor, 15, 800);\r\n      this.text2 = this.drawEmptyDonutLabel(cx, cy + 10, this.options.labelColor, 14);\r\n      max_value = Math.max.apply(null, (function() {\r\n        var _k, _len2, _ref2, _results;\r\n        _ref2 = this.values;\r\n        _results = [];\r\n        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\r\n          value = _ref2[_k];\r\n          _results.push(value);\r\n        }\r\n        return _results;\r\n      }).call(this));\r\n      idx = 0;\r\n      _ref2 = this.values;\r\n      _results = [];\r\n      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\r\n        value = _ref2[_k];\r\n        if (value === max_value) {\r\n          this.select(idx);\r\n          break;\r\n        }\r\n        _results.push(idx += 1);\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    Donut.prototype.click = function(idx) {\r\n      return this.fire('click', idx, this.data[idx]);\r\n    };\r\n\r\n    Donut.prototype.select = function(idx) {\r\n      var row, s, segment, _i, _len, _ref;\r\n      _ref = this.segments;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        s = _ref[_i];\r\n        s.deselect();\r\n      }\r\n      segment = this.segments[idx];\r\n      segment.select();\r\n      row = this.data[idx];\r\n      return this.setLabels(row.label, this.options.formatter(row.value, row));\r\n    };\r\n\r\n    Donut.prototype.setLabels = function(label1, label2) {\r\n      var inner, maxHeightBottom, maxHeightTop, maxWidth, text1bbox, text1scale, text2bbox, text2scale;\r\n      inner = (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) * 2 / 3;\r\n      maxWidth = 1.8 * inner;\r\n      maxHeightTop = inner / 2;\r\n      maxHeightBottom = inner / 3;\r\n      this.text1.attr({\r\n        text: label1,\r\n        transform: ''\r\n      });\r\n      text1bbox = this.text1.getBBox();\r\n      text1scale = Math.min(maxWidth / text1bbox.width, maxHeightTop / text1bbox.height);\r\n      this.text1.attr({\r\n        transform: \"S\" + text1scale + \",\" + text1scale + \",\" + (text1bbox.x + text1bbox.width / 2) + \",\" + (text1bbox.y + text1bbox.height)\r\n      });\r\n      this.text2.attr({\r\n        text: label2,\r\n        transform: ''\r\n      });\r\n      text2bbox = this.text2.getBBox();\r\n      text2scale = Math.min(maxWidth / text2bbox.width, maxHeightBottom / text2bbox.height);\r\n      return this.text2.attr({\r\n        transform: \"S\" + text2scale + \",\" + text2scale + \",\" + (text2bbox.x + text2bbox.width / 2) + \",\" + text2bbox.y\r\n      });\r\n    };\r\n\r\n    Donut.prototype.drawEmptyDonutLabel = function(xPos, yPos, color, fontSize, fontWeight) {\r\n      var text;\r\n      text = this.raphael.text(xPos, yPos, '').attr('font-size', fontSize).attr('fill', color);\r\n      if (fontWeight != null) {\r\n        text.attr('font-weight', fontWeight);\r\n      }\r\n      return text;\r\n    };\r\n\r\n    return Donut;\r\n\r\n  })(Morris.EventEmitter);\r\n\r\n  Morris.DonutSegment = (function(_super) {\r\n\r\n    __extends(DonutSegment, _super);\r\n\r\n    function DonutSegment(cx, cy, inner, outer, p0, p1, color, backgroundColor, index, raphael) {\r\n      this.cx = cx;\r\n      this.cy = cy;\r\n      this.inner = inner;\r\n      this.outer = outer;\r\n      this.color = color;\r\n      this.backgroundColor = backgroundColor;\r\n      this.index = index;\r\n      this.raphael = raphael;\r\n      this.deselect = __bind(this.deselect, this);\r\n\r\n      this.select = __bind(this.select, this);\r\n\r\n      this.sin_p0 = Math.sin(p0);\r\n      this.cos_p0 = Math.cos(p0);\r\n      this.sin_p1 = Math.sin(p1);\r\n      this.cos_p1 = Math.cos(p1);\r\n      this.is_long = (p1 - p0) > Math.PI ? 1 : 0;\r\n      this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5);\r\n      this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer);\r\n      this.hilight = this.calcArc(this.inner);\r\n    }\r\n\r\n    DonutSegment.prototype.calcArcPoints = function(r) {\r\n      return [this.cx + r * this.sin_p0, this.cy + r * this.cos_p0, this.cx + r * this.sin_p1, this.cy + r * this.cos_p1];\r\n    };\r\n\r\n    DonutSegment.prototype.calcSegment = function(r1, r2) {\r\n      var ix0, ix1, iy0, iy1, ox0, ox1, oy0, oy1, _ref, _ref1;\r\n      _ref = this.calcArcPoints(r1), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\r\n      _ref1 = this.calcArcPoints(r2), ox0 = _ref1[0], oy0 = _ref1[1], ox1 = _ref1[2], oy1 = _ref1[3];\r\n      return (\"M\" + ix0 + \",\" + iy0) + (\"A\" + r1 + \",\" + r1 + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1) + (\"L\" + ox1 + \",\" + oy1) + (\"A\" + r2 + \",\" + r2 + \",0,\" + this.is_long + \",1,\" + ox0 + \",\" + oy0) + \"Z\";\r\n    };\r\n\r\n    DonutSegment.prototype.calcArc = function(r) {\r\n      var ix0, ix1, iy0, iy1, _ref;\r\n      _ref = this.calcArcPoints(r), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\r\n      return (\"M\" + ix0 + \",\" + iy0) + (\"A\" + r + \",\" + r + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1);\r\n    };\r\n\r\n    DonutSegment.prototype.render = function() {\r\n      var _this = this;\r\n      this.arc = this.drawDonutArc(this.hilight, this.color);\r\n      return this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function() {\r\n        return _this.fire('hover', _this.index);\r\n      }, function() {\r\n        return _this.fire('click', _this.index);\r\n      });\r\n    };\r\n\r\n    DonutSegment.prototype.drawDonutArc = function(path, color) {\r\n      return this.raphael.path(path).attr({\r\n        stroke: color,\r\n        'stroke-width': 2,\r\n        opacity: 0\r\n      });\r\n    };\r\n\r\n    DonutSegment.prototype.drawDonutSegment = function(path, fillColor, strokeColor, hoverFunction, clickFunction) {\r\n      return this.raphael.path(path).attr({\r\n        fill: fillColor,\r\n        stroke: strokeColor,\r\n        'stroke-width': 3\r\n      }).hover(hoverFunction).click(clickFunction);\r\n    };\r\n\r\n    DonutSegment.prototype.select = function() {\r\n      if (!this.selected) {\r\n        this.seg.animate({\r\n          path: this.selectedPath\r\n        }, 150, '<>');\r\n        this.arc.animate({\r\n          opacity: 1\r\n        }, 150, '<>');\r\n        return this.selected = true;\r\n      }\r\n    };\r\n\r\n    DonutSegment.prototype.deselect = function() {\r\n      if (this.selected) {\r\n        this.seg.animate({\r\n          path: this.path\r\n        }, 150, '<>');\r\n        this.arc.animate({\r\n          opacity: 0\r\n        }, 150, '<>');\r\n        return this.selected = false;\r\n      }\r\n    };\r\n\r\n    return DonutSegment;\r\n\r\n  })(Morris.EventEmitter);\r\n\r\n}).call(this);\r\n"]}