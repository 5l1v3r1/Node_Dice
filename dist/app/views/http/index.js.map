{"version":3,"sources":["../../../../src/app/views/http/index.js"],"names":["logger","require","exports","http403","req","res","status","warn","originalUrl","xhr","send","error","render","http404","http500","err","next","console","log","stack"],"mappings":"AAAA;;;;;;AAOA;;AAEA,IAAIA,SAASC,QAAQ,qBAAR,CAAb;;AAEAC,QAAQC,OAAR,GAAkB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjCA,QAAIC,MAAJ,CAAW,GAAX;AACAN,WAAOO,IAAP,CAAY,kBAAZ,EAAgCH,IAAII,WAApC;;AAEA,QAAIJ,IAAIK,GAAR,EAAa;AACTJ,YAAIK,IAAJ,CAAS;AACLC,mBAAO;AADF,SAAT;AAGH,KAJD,MAIO;AACHN,YAAIO,MAAJ,CAAW,UAAX;AACH;AACJ,CAXD;;AAcAV,QAAQW,OAAR,GAAkB,UAAST,GAAT,EAAcC,GAAd,EAAmB;AACjCA,QAAIC,MAAJ,CAAW,GAAX;AACAN,WAAOO,IAAP,CAAY,uBAAZ,EAAqCH,IAAII,WAAzC;AACA,QAAIJ,IAAIK,GAAR,EAAa;AACTJ,YAAIK,IAAJ,CAAS;AACLC,mBAAO;AADF,SAAT;AAGH,KAJD,MAIO;AACHN,YAAIO,MAAJ,CAAW,UAAX;AACH;AACJ,CAVD;;AAaAV,QAAQY,OAAR,GAAkB,UAASC,GAAT,EAAcX,GAAd,EAAmBC,GAAnB,EAAwBW,IAAxB,EAA8B;AAC5CX,QAAIC,MAAJ,CAAW,GAAX;AACA;AACA;AACA;AACA;AACAN,WAAOW,KAAP,CAAa,yBAAb,EAAwCI,GAAxC;AACA,QAAIX,IAAIK,GAAR,EAAa;AACTJ,YAAIK,IAAJ,CAAS;AACLC,mBAAO;AADF,SAAT;AAGH,KAJD,MAIO;AACHM,gBAAQC,GAAR,CAAYH,IAAII,KAAhB;AACAd,YAAIO,MAAJ,CAAW,UAAX;AACH;AACJ,CAfD","file":"index.js","sourcesContent":["/**\r\n * Copyright 2014 eRealm Info & Tech.\r\n *\r\n * Created by Ken on 2/08/2014\r\n */\r\n\r\n\r\n'use strict';\r\n\r\nvar logger = require('../../helper/logger');\r\n\r\nexports.http403 = function(req, res) {\r\n    res.status(403);\r\n    logger.warn('Access denial : ', req.originalUrl);\r\n\r\n    if (req.xhr) {\r\n        res.send({\r\n            error: 'Access denial.'\r\n        });\r\n    } else {\r\n        res.render('http/403');\r\n    }\r\n};\r\n\r\n\r\nexports.http404 = function(req, res) {\r\n    res.status(404);\r\n    logger.warn('Resource not found : ', req.originalUrl);\r\n    if (req.xhr) {\r\n        res.send({\r\n            error: 'Resource not found.'\r\n        });\r\n    } else {\r\n        res.render('http/404');\r\n    }\r\n};\r\n\r\n\r\nexports.http500 = function(err, req, res, next) {\r\n    res.status(500);\r\n    //    // capture an exception\r\n    //    if (config.errors) {\r\n    //        config.errors.captureError(err);\r\n    //    }\r\n    logger.error('Something went wrong : ', err);\r\n    if (req.xhr) {\r\n        res.send({\r\n            error: 'Something went wrong.'\r\n        });\r\n    } else {\r\n        console.log(err.stack);\r\n        res.render('http/500');\r\n    }\r\n};\r\n"]}