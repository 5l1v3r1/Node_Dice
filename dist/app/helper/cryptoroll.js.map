{"version":3,"sources":["../../../src/app/helper/cryptoroll.js"],"names":["crypto","require","module","exports","key","text","hash","createHmac","update","digest","index","lucky","parseInt","substring","Math","pow"],"mappings":";;AAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,UAAUC,GAAV,EAAeC,IAAf,EAAqB;;AAElC;AACA,QAAIC,OAAON,OAAOO,UAAP,CAAkB,QAAlB,EAA4BH,GAA5B,EAAiCI,MAAjC,CAAwCH,IAAxC,EAA8CI,MAA9C,CAAqD,KAArD,CAAX;;AAEA,QAAIC,QAAQ,CAAZ;;AAEA,QAAIC,QAAQC,SAASN,KAAKO,SAAL,CAAeH,QAAQ,CAAvB,EAA0BA,QAAQ,CAAR,GAAY,CAAtC,CAAT,EAAmD,EAAnD,CAAZ;;AAEA;AACA,WAAOC,SAASG,KAAKC,GAAL,CAAS,EAAT,EAAa,CAAb,CAAhB,EAAiC;AAC7BL;AACAC,gBAAQC,SAASN,KAAKO,SAAL,CAAeH,QAAQ,CAAvB,EAA0BA,QAAQ,CAAR,GAAY,CAAtC,CAAT,EAAmD,EAAnD,CAAR;;AAEA;AACA,YAAIA,QAAQ,CAAR,GAAY,CAAZ,GAAgB,GAApB,EAAyB;AACrBC,oBAAQ,KAAR;AACA;AACH;AACJ;;AAEDA,aAASG,KAAKC,GAAL,CAAS,EAAT,EAAa,CAAb,CAAT;AACAJ,aAASG,KAAKC,GAAL,CAAS,EAAT,EAAa,CAAb,CAAT;;AAEA,WAAOJ,KAAP;AACH,CAzBD","file":"cryptoroll.js","sourcesContent":["ï»¿//the seed pair itself\r\n//var clientSeed = \"your client seed\"; //dont forget to exclude the dash and the nonce!\r\n//var serverSeed = \"your server seed\";\r\n\r\n//bet made with seed pair (excluding current bet)\r\n//var nonce = 0;\r\n\r\n//crypto lib for hmac function\r\nvar crypto = require('crypto');\r\n\r\nmodule.exports = function (key, text) {\r\n    \r\n    //create HMAC using server seed as key and client seed as message\r\n    var hash = crypto.createHmac('sha512', key).update(text).digest('hex');\r\n    \r\n    var index = 0;\r\n    \r\n    var lucky = parseInt(hash.substring(index * 5, index * 5 + 5), 16);\r\n    \r\n    //keep grabbing characters from the hash while greater than \r\n    while (lucky >= Math.pow(10, 6)) {\r\n        index++;\r\n        lucky = parseInt(hash.substring(index * 5, index * 5 + 5), 16);\r\n        \r\n        //if we reach the end of the hash, just default to highest number\r\n        if (index * 5 + 5 > 128) {\r\n            lucky = 99.99;\r\n            break;\r\n        }\r\n    }\r\n    \r\n    lucky %= Math.pow(10, 4);\r\n    lucky /= Math.pow(10, 2);\r\n    \r\n    return lucky;\r\n}\r\n"]}