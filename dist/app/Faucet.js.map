{"version":3,"sources":["../../src/app/Faucet.js"],"names":["VerifyResponse","userid","response","callback","post","url","form","method","proxy","faucet","err","httpResponse","body","re","JSON","parse","success","GetPay","result","code"],"mappings":";;;;;;AAAC;;;;AACD;;;;AACA;;;;;;kBAEgB;AACZA,oBAAgB,wBAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,QAA5B,EAAsC;;AAElD,0BAAQC,IAAR,CAAa;AACTC,iBAAK,iDADI;AAETC,kBAAM;AACF,0BAAU,0CADR;AAEF,4BAAYJ;AAFV,aAFG;AAMTK,oBAAQ,MANC;AAOTC,mBAAO,iBAAOC,MAAP,CAAcD;AAPZ,SAAb,EAQI,UAACE,GAAD,EAAMC,YAAN,EAAoBC,IAApB,EAA6B;AAC7B,gBAAIC,KAAKC,KAAKC,KAAL,CAAWH,IAAX,CAAT;AACA,gBAAIC,GAAGG,OAAP,EAAgB;AACZ,uCAAaC,MAAb,CAAoBhB,MAApB,EAA4B,UAAUS,GAAV,EAAeQ,MAAf,EAAuB;AAC/Cf,6BAASO,GAAT,EAAcQ,MAAd;AACH,iBAFD;AAGH,aAJD,MAKK;AACDf,yBAAS,IAAT,EAAe,EAAEgB,MAAM,CAAC,CAAT,EAAf,EADC,CAC6B;AACjC;AACJ,SAlBD;AAoBH;AAvBW,C","file":"Faucet.js","sourcesContent":["ï»¿import request from 'request';\r\nimport faucetHelper from './helper/faucetHelper.js';\r\nimport config from '../config';\r\n\r\nexport default  {\r\n    VerifyResponse: function (userid, response, callback) {\r\n        \r\n        request.post({\r\n            url: 'https://www.google.com/recaptcha/api/siteverify', \r\n            form: {\r\n                'secret': '6LeD4QMTAAAAAEWzJqieM9nJIhlIDygbrx0IOyUk' ,\r\n                'response': response\r\n            },\r\n            method: 'POST'\r\n           ,proxy: config.faucet.proxy\r\n        },  (err, httpResponse, body) => {\r\n            var re = JSON.parse(body);\r\n            if (re.success) {\r\n                faucetHelper.GetPay(userid, function (err, result) {\r\n                    callback(err, result);\r\n                });\r\n            }\r\n            else { \r\n                callback(null, { code: -1 }); //verify failed. no bitcoin;\r\n            }\r\n        });\r\n  \r\n    }\r\n};"]}